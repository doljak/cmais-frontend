<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store" />
    <meta http-equiv="Pragma" content="no-cache, no-store" />
    <meta http-equiv="expires" content="Mon, 06 Jan 1990 00:00:01 GMT" />
    <link rel="shortcut icon" href="http://cmais.com.br/portal/images/favicon.ico" />
    <script src="/portal/js/jquery-1.7.2.min.js" type="text/javascript"></script>
    <link href="/portal/css/tvcultura/sites/cocorico/bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="/portal/js/bootstrap/bootstrap.js"></script>
    <script type="text/javascript" src="/portal/js/bootstrap/tab.js"></script>
    <link href="/portal/css/tvcultura/sites/cocorico/geral.css" rel="stylesheet">
    <link href="/portal/css/tvcultura/sites/cocorico/home.css" rel="stylesheet">
    <link href="/portal/css/tvcultura/sites/cocorico/tvcocorico.css" rel="stylesheet">
  </head>  
  
  <body>

    <div class="destaque-home-tv interatividade" id="formWrapper">
        <div class="topo">
          <div class="bac-yellow">
            <h2>Concorra ao prêmio!</h2>
          </div>
        </div>
        <form id="form-contato" method="POST" action="">
         
          <input type="hidden" name="test" value="1">
         
          <!--p>
            <?php echo $displays['destaque-principal'][0]->getDescription(); carousel
          </p-->
          <p>Preencha corretamente todos os campos abaixo:</p>
          <div class="row-fluid form-campos">
            
            
            <div class="row-fluid">
              <i class="ico-tv ico-pessoa"></i>
              <input type="text" class="span11 pull-left required" name="nome" id="nome" data-default="Seu nome" value="Seu nome" placeholder="Seu nome">
            </div>
            <div class="row-fluid">
              <i class="ico-tv ico-responsavel"></i>
              <input type="text" class="span11 pull-left" name="nome_resp" id="nome_resp" data-default="Nome do responsável" value="Nome do responsável" placeholder="Nome do responsável">
            </div>
            <div class="row-fluid">
              <i class="ico-tv ico-contato"></i>
              <input type="text" class="span11 pull-left" name="email" id="email" data-default="E-mail para contato" value="E-mail para contato" placeholder="E-mail para contato">
            </div>
            <div class="row-fluid cidade">
              <i class="ico-tv ico-cidade"></i>
              
              <div class="span9" style="margin-right: 5px;">
                <input type="text" name="endereco" class="span12" id="endereco" data-default="Endereço" value="Endereço" placeholder="Endereço">
              </div>
              
              <div class="span9" style="width: 16%;">
                <input type="text" name="numero" class="span12" id="numero" data-default="Número" value="Número" placeholder="Número">
              </div>
              
              
              <div class="span9" style="margin-left: 37px">
                <input type="text" name="cidade" class="span12" id="cidade" data-default="Sua cidade" value="Sua cidade" placeholder="Sua cidade">
              </div>
              
              
              <div class="span2 estado" style="margin-left: 5px; width: 16%;">
                <select id="estado" name="estado" class="span12 required">
                    <option value="" selected="selected">UF</option>
                    <option value="Acre">AC</option>
                    <option value="Alagoas">AL</option>
                    <option value="Amazonas">AM</option>
                    <option value="Amapá">AP</option>
                    <option value="Bahia">BA</option>
                    <option value="Ceará">CE</option>
                    <option value="Distrito Federal">DF</option>
                    <option value="Espirito Santo">ES</option>
                    <option value="Goiás">GO</option>
                    <option value="Maranhão">MA</option>
                    <option value="Minas Gerais">MG</option>
                    <option value="Mato Grosso do Sul">MS</option>
                    <option value="Mato Grosso">MT</option>
                    <option value="Pará">PA</option>
                    <option value="Paraíba">PB</option>
                    <option value="Pernambuco">PE</option>
                    <option value="Piauí">PI</option>
                    <option value="Paraná">PR</option>
                    <option value="Rio de Janeiro">RJ</option>
                    <option value="Rio Grande do Norte">RN</option>
                    <option value="Rondônia">RO</option>
                    <option value="Roraima">RR</option> 
                    <option value="Rio Grande do Sul">RS</option>
                    <option value="Santa Catarina">SC</option>
                    <option value="Sergipe">SE</option>
                    <option value="São Paulo">SP</option>
                    <option value="Tocantins">TO</option>
                </select>
              </div>
            </div>
            
             <div class="span9" style="margin-left: 36px; width: 69%;">
                <input type="text" name="bairro" class="span12" id="bairro" data-default="Bairro" value="Bairro" placeholder="Bairro">
              </div>
              
               <div class="span9" style="width: 22%; margin-left: 5px;">
                <input type="text" name="cep" class="span12" id="cep" data-default="Sua cidade" value="CEP" placeholder="CEP">
              </div>
            
            <!--div class="row-fluid">
              <label class="radio" for="concorda">
                <input type="radio" name="concorda" id="concorda" value="aceite">Estou ciente e de acordo com os <a href="#modalTermos" role="button" data-toggle="modal">Termos e Condições</a>.
              </label>             
            </div-->
          </div>
          
          <img src="/portal/images/ajax-loader.gif" alt="enviando..." style="display:none" width="16px" height="16px" id="ajax-loader">
          
          <label generated="true" class="error" style="display: none;">*Preencha corretamente os campos em vermelho.</label>
          
          <input type="submit" id="enviar" class="pull-right" value="ENVIAR"> 
        </form>
        
        <div id="msgAcerto" style="display:none">
          <p>Sua participação foi concluída com sucesso! Obrigado por participar! :)</p>
        </div>
        
        <div id="msgErro" style="display:none">
          <p> Puxa, puxa que puxa... sua participação não foi enviada! :(<br> 
            </p><hr>
            Tente novamente mais tarde.
          <p></p>
        </div>
      </div>
      
      <script type="text/javascript" src="/portal/js/validate/jquery.validate.js"></script>
      <script src="/portal/js/jquery.maskedinput.js" type="text/javascript"></script>
      <script type="text/javascript">
        $(document).ready(function(){
          $("#cep").mask("99999-999");
          
          var validator = $('#form-contato').validate({
            
            submitHandler: function(form){
              $.ajax({
                type: "POST",
                dataType: "text",
                url: "http://cmais.com.br/actions/cocorico/sorteiorelampago/action.php",
                data: $("#form-contato").serialize(),
                beforeSend: function(){
                  $('input#enviar').hide();
                  $('img#ajax-loader').show();
                },
                success: function(data){
                  if(data == "1"){
                    $('input#enviar').show()
                    $('img#ajax-loader').hide();
                    $('#form-contato').hide(); 
                    $('#msgAcerto').show();           
                  }
                  else {
                    $('img#ajax-loader').hide();
                    $('input#enviar').show()
                    $('#form-contato').hide();
                    $("#msgErro").show();
                  }
                }
              });         
            },
            rules:{
              nome:{
                required:function(){
                  validate('#nome');
                  return true
                },
                minlength: 2
              },
              nome_resp:{
                required:function(){
                  validate('#nome_resp');
                  return true
                },
                minlength: 2
              },
              email:{
                required:function(){
                  validate('#email');
                  return true
                },
                email: true
              },
              endereco:{
                required:function(){
                  validate('#endereco');
                  return true
                },
                minlength: 3
              },
              numero:{
                required:function(){
                  validate('#numero');
                  return true
                }
              },
              cidade:{
                required:function(){
                  validate('#cidade');
                  return true
                },
                minlength: 3
              },
              estado:{
                required:function(){
                  validate('#estado');
                  return true
                }
              },
              bairro:{
                required:function(){
                  validate('#bairro');
                  return true
                }
              },
              cep:{
                required:function(){
                  validate('#cep');
                  return true
                }
              }/*,
              concorda:{
                required: true
              }*/
            },
            messages:{
              required: "Preencha corretamente os campos em vermelho."
            },
            success: function(label){
              // set &nbsp; as text for IE
              label.addClass("checked");
              $("label.error.checked").css("display","none");
              label.html("&nbsp;");
            }
          });
          function validate(obj){
            if($(obj).val()==$(obj).attr("data-default")){
              $(obj).val('');
            }
          }
        });
      </script>   
</body>

</html>